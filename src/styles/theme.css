/*
 * Semantic Theme Variables
 *
 * These variables use semantic names (e.g., "surface", "text-primary")
 * and map to primitive tokens. This allows easy theme switching.
 *
 * Dark theme is the default (Factory.ai inspired).
 * Light theme available via data-theme="light".
 */

/* Dark Theme (default) */
:root,
[data-theme='dark'] {
  color-scheme: dark;

  /* Backgrounds */
  --surface-background: var(--color-gray-950);
  --surface-primary: var(--color-gray-900);
  --surface-secondary: var(--color-gray-850);
  --surface-tertiary: var(--color-gray-800);
  --surface-inverse: var(--color-gray-100);

  /* Text */
  --text-primary: var(--color-gray-100);
  --text-secondary: var(--color-gray-400);
  --text-tertiary: var(--color-gray-500);
  --text-inverse: var(--color-gray-900);
  --text-link: var(--color-orange-500);
  --text-link-hover: var(--color-orange-400);

  /* Borders */
  --border-primary: var(--color-gray-800);
  --border-secondary: var(--color-gray-700);
  --border-focus: var(--color-orange-500);

  /* Interactive - Orange accent */
  --interactive-primary: var(--color-orange-500);
  --interactive-primary-hover: var(--color-orange-400);
  --interactive-primary-bg: rgba(249, 115, 22, 0.1);
  --interactive-secondary: var(--color-gray-800);
  --interactive-secondary-hover: var(--color-gray-700);

  /* Status */
  --status-success: var(--color-success);
  --status-warning: var(--color-warning);
  --status-error: var(--color-error);
  --status-info: var(--color-info);

  /* Status Backgrounds (for badges, alerts) */
  --status-success-bg: rgba(34, 197, 94, 0.15);
  --status-warning-bg: rgba(245, 158, 11, 0.15);
  --status-error-bg: rgba(239, 68, 68, 0.15);
  --status-info-bg: rgba(59, 130, 246, 0.15);

  /* Shadows */
  --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  --shadow-dropdown: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
}

/* Light Theme */
[data-theme='light'] {
  color-scheme: light;

  /* Backgrounds */
  --surface-background: var(--color-gray-50);
  --surface-primary: #ffffff;
  --surface-secondary: var(--color-gray-100);
  --surface-tertiary: var(--color-gray-200);
  --surface-inverse: var(--color-gray-900);

  /* Text */
  --text-primary: var(--color-gray-900);
  --text-secondary: var(--color-gray-600);
  --text-tertiary: var(--color-gray-500);
  --text-inverse: #ffffff;
  --text-link: var(--color-orange-600);
  --text-link-hover: var(--color-orange-500);

  /* Borders */
  --border-primary: var(--color-gray-200);
  --border-secondary: var(--color-gray-300);
  --border-focus: var(--color-orange-500);

  /* Interactive - Orange accent */
  --interactive-primary: var(--color-orange-500);
  --interactive-primary-hover: var(--color-orange-600);
  --interactive-primary-bg: rgba(249, 115, 22, 0.1);
  --interactive-secondary: var(--color-gray-200);
  --interactive-secondary-hover: var(--color-gray-300);

  /* Status */
  --status-success: var(--color-success);
  --status-warning: var(--color-warning);
  --status-error: var(--color-error);
  --status-info: var(--color-info);

  /* Status Backgrounds (for badges, alerts) */
  --status-success-bg: #dcfce7;
  --status-warning-bg: #fef3c7;
  --status-error-bg: #fee2e2;
  --status-info-bg: #dbeafe;

  /* Shadows */
  --shadow-card: var(--shadow-md);
  --shadow-dropdown: var(--shadow-lg);
}

/* System preference - when data-theme is "system" or not set */
@media (prefers-color-scheme: light) {
  :root:not([data-theme='dark']):not([data-theme='light']) {
    color-scheme: light;

    --surface-background: var(--color-gray-50);
    --surface-primary: #ffffff;
    --surface-secondary: var(--color-gray-100);
    --surface-tertiary: var(--color-gray-200);
    --surface-inverse: var(--color-gray-900);

    --text-primary: var(--color-gray-900);
    --text-secondary: var(--color-gray-600);
    --text-tertiary: var(--color-gray-500);
    --text-inverse: #ffffff;
    --text-link: var(--color-orange-600);
    --text-link-hover: var(--color-orange-500);

    --border-primary: var(--color-gray-200);
    --border-secondary: var(--color-gray-300);
    --border-focus: var(--color-orange-500);

    --interactive-primary: var(--color-orange-500);
    --interactive-primary-hover: var(--color-orange-600);
    --interactive-primary-bg: rgba(249, 115, 22, 0.1);
    --interactive-secondary: var(--color-gray-200);
    --interactive-secondary-hover: var(--color-gray-300);

    --status-success-bg: #dcfce7;
    --status-warning-bg: #fef3c7;
    --status-error-bg: #fee2e2;
    --status-info-bg: #dbeafe;

    --shadow-card: var(--shadow-md);
    --shadow-dropdown: var(--shadow-lg);
  }
}

/*
 * Mono UI Theme (default)
 *
 * A minimal monochrome theme with serif headings.
 * Works with both light and dark color modes.
 * Uses higher specificity selectors to ensure proper override.
 */

/* Mono theme base - applies to all mono theme instances */
[data-ui-theme='mono'] {
  /* Heading font */
  --font-heading: var(--font-instrument-serif), Georgia, serif;
}

/* Mono theme in DARK mode - explicit selectors for all dark mode cases */
[data-theme='dark'][data-ui-theme='mono'],
:root[data-ui-theme='mono']:not([data-theme='light']) {
  /* Light buttons with dark text for dark backgrounds */
  --interactive-primary: var(--color-gray-100);
  --interactive-primary-hover: #ffffff;
  --interactive-primary-bg: rgba(255, 255, 255, 0.1);
  --text-inverse: var(--color-gray-900);
  --text-link: var(--color-gray-300);
  --text-link-hover: var(--color-gray-100);
  --border-focus: var(--color-gray-400);
}

/* Mono theme in LIGHT mode - explicit selectors for all light mode cases */
[data-theme='light'][data-ui-theme='mono'] {
  /* Dark buttons with light text for light backgrounds */
  --interactive-primary: var(--color-gray-900);
  --interactive-primary-hover: #000000;
  --interactive-primary-bg: rgba(0, 0, 0, 0.05);
  --text-inverse: #ffffff;
  --text-link: var(--color-gray-700);
  --text-link-hover: var(--color-gray-900);
  --border-focus: var(--color-gray-600);
}

/* Mono theme with system preference light mode (when data-theme not explicitly set) */
@media (prefers-color-scheme: light) {
  :root[data-ui-theme='mono']:not([data-theme='dark']):not([data-theme='light']) {
    --interactive-primary: var(--color-gray-900);
    --interactive-primary-hover: #000000;
    --interactive-primary-bg: rgba(0, 0, 0, 0.05);
    --text-inverse: #ffffff;
    --text-link: var(--color-gray-700);
    --text-link-hover: var(--color-gray-900);
    --border-focus: var(--color-gray-600);
  }
}

/* Apply heading font to headings in mono theme */
[data-ui-theme='mono'] h1,
[data-ui-theme='mono'] h2,
[data-ui-theme='mono'] h3,
[data-ui-theme='mono'] h4,
[data-ui-theme='mono'] h5,
[data-ui-theme='mono'] h6 {
  font-family: var(--font-heading);
  font-weight: 400;
  letter-spacing: -0.01em;
}

/* Slightly larger heading sizes with preserved line heights */
[data-ui-theme='mono'] h1 {
  font-size: 1.75rem;
  line-height: 1.2;
}

[data-ui-theme='mono'] h2 {
  font-size: 1.25rem;
  line-height: 1.3;
}

[data-ui-theme='mono'] h3 {
  font-size: 1.125rem;
  line-height: 1.4;
}

/* Capsule-shaped buttons in mono theme */
[data-ui-theme='mono'] button,
[data-ui-theme='mono'] [role='button'],
[data-ui-theme='mono'] a[class*='button' i],
[data-ui-theme='mono'] a[class*='Button' i] {
  border-radius: 9999px !important;
}
